<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Dylan La Com' website RSS feed]]></title><description><![CDATA[Dylan La Com's website]]></description><link>https://www.dylanla.com</link><generator>Waku</generator><lastBuildDate>Wed, 25 Feb 2026 20:16:01 GMT</lastBuildDate><item><title><![CDATA[Chicken Coop]]></title><link>https://www.dylanla.com/chicken-coop/</link><guid isPermaLink="false">https://www.dylanla.com/chicken-coop/</guid><pubDate>Tue, 20 Feb 2024 22:00:00 GMT</pubDate><content:encoded><![CDATA[<p>In early 2023 I began work on a backyard chicken coop. I wanted something that was aesthetically designed and situated in the yard, provided a comfortable home for up to 6 birds, and, importantly, was easy to maintain and service. This project also provided a great opportunity to practice my CAD skills, carpentry, and resource planning.</p>
<p>Here's a shot of the completed project.</p>
<p><img src="/images/posts/chicken-coop/coop_final.jpeg" alt="The chicken coop, done and lookin' pretty in the sunset."></p>
<p>And another angle with the birds:
<img src="/images/posts/chicken-coop/coop_final_w_birds.jpeg" alt="Happy birds produce good eggs and happy humans.">
<em>Happy birds having some breakfast.</em></p>
<p>It's a raised coop, roughly 6 foot by 4 foot, with a sloped roof, 3 windows on 2 walls, a couple swinging doors for human entry and a chicken door with ramp for bird entry. Extending out from the north wall are 3 nesting boxes, which have a down-swinging door for easy egg retrieval. This design takes inspiration from two other small structures I was able to find plans online for; one a chicken coop<a href="#notes">[1]</a> and one a playhouse<a href="#notes">[2]</a>.</p>
<p>Six months into moving our birds into the coop, I'm quite happy with how it turned out and think it's an ideal design with only minor notes for improvement.</p>
<figure>
  <p>
    <video autoplay playsinline controls loop muted preload="auto">
      <source src="/media/posts/chicken-coop/front_to_back_orbit.mp4" type="video/mp4">
    </video>
  </p>
</figure>
<h2>The Design</h2>
<p>I want to highlight some of the design decisions which benefit the coop.</p>
<h3>Raised platform</h3>
<p>Having the coop raised off the ground provides a couple big advantages.</p>
<ol>
<li><strong>Easy to clean</strong>–The coop floor can be thoroughly cleaned. We can use any material for the bedding: wood shavings, straw, sand etc. and change this up easily if we want to try something new. When the coop is set on the ground, you're always going to be dealing with some level of dirt and mud when it rains. This seems harder to keep clean than wooden floor boards which can be scrubbed down if necessary. The floor of the coop is designed to be just a bit higher than the height of a wheel barrow. This means I can pull my wheel barrow right up to the coop doors and scoop all the dirty bedding right into the wheel barrow, then easily transport to compost or yard waste bins.</li>
<li><strong>Shelter</strong>–The space under the coop provides a place for the birds to hideout and seek shelter from rain or the heat on hot days, as well as predators in the sky. We put the chicken feeder under the coop, which helps to keep their food nice and dry when it rains.</li>
</ol>
<h3>Windows</h3>
<p>Not only do they look nice, but they are also functional. I put them on 2 walls–one window on the north wall and two smaller ones on the east-facing wall. Beyond letting light in, we can open the windows during the summer to provide a draft through the coop when it's hot. I didn't want the windows on the south or west-facing walls, as these are the sunniest sides and therefore the hottest sides. We've kept them closed during the colder months.</p>
<p>These were all purchased through Amazon, for about $35 each and I'm pretty happy with them. They are sliding &quot;shed&quot; windows. The glass is tempered, and they come with wire mesh screens to keep bugs out.</p>
<h3>Three nesting boxes</h3>
<p>You can probably get by with 2 nesting boxes for 6 chickens, so the third is maybe unnecessary. We've ended up using the third box for storing some items. However, with about 4 feet of length along the side of the coop, 3 boxes fit nicely. Each box interior is roughly a one foot cube.</p>
<p>To create the floor for the nesting boxes, the 2x8 floor boards were extended out past the floor joists on the north wall.</p>
<p><img src="/images/posts/chicken-coop/coop_floor_cad.png" alt="Coop floor">
<em>Floor boards run past the floor frame on the north side.</em></p>
<p>The down-swinging door is latched on both sides of the coop, so it cannot be accidentally opened.</p>
<figure>
  <p>
    <video autoplay playsinline controls loop muted preload="auto">
      <source src="/media/posts/chicken-coop/nesting_box_door_480.mp4" type="video/mp4">
    </video>
  </p>
</figure>
<h3>A dropping board</h3>
<p>The dropping board is situated underneath the roosting bars and its purpose is to catch all the droppings from the birds while they're sleeping on the bars each night. I set it about 17 inches above the floor of the coop, so that a 5 gallon bucket can be stored snugly underneath it. It should have rails all around the perimeter, except for the front, so that droppings can be easily swept off the board into the bucket below. The rails act as guides as you sweep the droppings towards the front of the board. You should try to get the board flush to the coop walls to eliminate any small gaps where droppings can get stuck or be hard to sweep up. By doing quick cleans of the dropping board everyday, we're able to keep the coop cleaner for longer between more extensive deep cleans.</p>
<p><img src="/images/posts/chicken-coop/dropping_board.jpeg" alt="Dropping board">
<em>The dropping board platform catches droppings from the birds while they sleep on the roosting bars above.</em></p>
<figure>
  <p>
    <video autoplay playsinline controls loop muted preload="auto">
      <source src="/media/posts/chicken-coop/dropping_board_in_action_480.mp4" type="video/mp4">
    </video>
  </p>
</figure>
<h3>Ladies First Chicken Door</h3>
<p>This is a product I bought online<a href="#notes">[3]</a>. When I saw this door, I knew I had to splurge on it. Afterall, I'm going for ease-of-maintenance with this coop. The Ladies First Chicken Door is a fully solar-powered chicken door that uses a light sensor to open shortly after dawn and close after dusk, letting the birds in and out of the coop every day, while keeping them safe. It's worked amazingly. In the photo at top, you can see the small solar panel mounted at the top of the coop. As small a task as opening and closing a chicken door is, automating this daily task seemed well-worth the money.</p>
<!-- ## The Build -->
<hr>
<h3><a name="notes"></a>Links</h3>
<ol>
<li><a href="https://www.thirdcoastcraftsman.com/product-page/chicken-coop-and-run-plans">The Third Coast Craftsman Chicken Coop</a></li>
<li><a href="https://www.elevatedspaces.ca/products/modern-playhouse-plans">Bert's Play Fort Plans</a></li>
<li><a href="https://www.ladiesfirstchickendoor.com/">Ladies First Chicken Door</a></li>
</ol>
]]></content:encoded></item><item><title><![CDATA[Bitcoin Soup]]></title><link>https://www.dylanla.com/bitcoin-soup/</link><guid isPermaLink="false">https://www.dylanla.com/bitcoin-soup/</guid><pubDate>Sun, 09 Aug 2020 22:00:00 GMT</pubDate><content:encoded><![CDATA[<style>
.btc_translation {
  background-color: #f7f7f7;
  padding: 10px;
  margin-left: 10px;
  margin-bottom: 20px;
}
.btc_translation > p:last-child {
  margin-bottom: 0;
}
</style>
<p>The big, cast iron cauldron sits suspended over the roaring fire, its bubbling contents ever so often exploding up, out and into the flames below. Every night, members of the community gather to fill their bowls and satisfy their hunger with the soup.</p>
<div class="btc_translation">
<p>
The bitcoin blockchain is one big log of transactions that stores every bitcoin transaction ever executed by anyone. As of March 2020, the blockchain's size is roughly 300GB, or about the size of one modern computer's hard drive. With the right equipment, it is entirely possible to download the entire blockchain onto your computer. As of July 2020, there are 18.4 million bitcoins in existence, so with the price of a bitcoin roughly $10,000, the total market cap of bitcoin is approximately $168 billion.
</p>
<p>
Like adding salt to soup, once something is added to the blockchain, it cannot be modified or removed. The blockchain can only be modified by <i>adding</i> more to it. In this way, the blockchain is an <i>append-only</i> data format.
</p>
</div>
<p>The soup is the community's primary source of sustenance, and in fact, the first batch was made years ago, with ingredients added by a particularly eccentric community member. Each day, members bring new ingredients to be added, and fill their bowls to enjoy the delicious soup.</p>
<div class="btc_translation">
<p>
Bitcoin and the blockchain were conceived by an anonymous internet forum member using the name Satoshi Nakomoto. Satoshi released a whitepaper detailing its implementation in October of 2008. The first block on the blockchain, the <i>genesis block</i>, was "mined" by Satoshi on January 9th, 2009. The blockchain has grown in size from the transactions and contributions of an increasing number of people who transact bitcoins.
</p>
</div>
<p>The community has adopted a peculiar set of rules to keep this cycle of soup going. And, like the contents of the soup itself, these rules are contributed and agreed upon by the members of the community.</p>
<div class="btc_translation">
<p>
Bitcoin and the blockchain are "decentralized", meaning that there is no single source of truth for the data or the transactions executed. The system is designed so that a consensus is required between different computers on the bitcoin network in order to continue transacting and growing the blockchain.
</p>
<p>Discussing the merits of decentralized systems is a topic for another article, but, importantly, decentralization stands in stark contrast with the <i>centralized</i> authority of the Federal Reserve in the US's current financial system.</p>
</div>
<p>The first rule members have agreed on is that in order to receive soup, each member must also contribute ingredients to the soup. Any member can stop by the cauldron at any time of day or night to fill their bowl or drop off ingredients. At the cauldron, they encounter any number of volunteer chefs who are manning the soup operation at the time.</p>
<div class="btc_translation">
<p>Bitcoin and the blockchain are available 24 hours a day, 7 days a week. There are no "business hours", which means bitcoin can be bought and sold at any time of day or night, any day of the week. Computers are running around the world, all hours of the day, <i>mining</i> bitcoin, and adding blocks (groups of bitcoin transactions) to the blockchain.</p>
</div>
<p>The chefs have a very important job–they ensure soup continues to be made for the community, and importantly, that it continues to taste good. As members show up with their offerings of vegetables, spices and meats, chefs use their judgment to determine whether the ingredients will be added to the soup.</p>
<p>But the chefs' job is not without challenges. The chefs' judgment on what is added to the soup is so important that the community has decided that each new ingredient needs to be agreed on by a minimum of three chefs before it can be added in. In exchange for their work, chefs earn soup for themselves.</p>
<div class="btc_translation">
<p>Bitcoin miners are members of the community that contribute their own computing power to the network to do the work of verifying transactions as they happen. In exchange, miners earn new bitcoins, as well as <i>transaction fees</i>.</p>
<p>Computers verify a transaction by computing a complex mathematical calculation for the transaction and then sharing their answer with other computers on the network. The calculation's result is called a <i>hash</i>. Bitcoin's <i>proof of work</i> algorithm used to compute these hashes is based on a common hashing algorithm called called SHA-256.</p>
<p>Once enough computers on the network all show the same result, a consensus is reached and the transaction is deemed legitimate, and can be confirmed and added to a <i>block</i>.</p>
<p>A block is a collection of bitcoin transactions that will eventually be appended to the blockchain when the block is full (each block cannot be more than 1mb in size). When a block is completed and added to the blockchain, new bitcoins are also created and given to the miners who helped verify the transactions in the block.
</p>
<p>The number of bitcoins created per block is 6.25 as of August 2020, but, importantly, this number decreases by half every 210,000 blocks mined (roughly every 4 years). The next halving will occur in May 2024, when the bitcoin reward per block added to the blockchain will drop to 3.125. This event is called a bitcoin <i>halving</i>. This halving mechanism also means that eventually no more bitcoins will be generated through mining, and the supply of new bitcoins into the system will end, capping the total number of bitcoins at 21 million.</p>
<p>Anyone can mine bitcoin, but without a specialized computer that is purpose-built to run these verification calculations, it is not a profitable or practical activity for individuals to partake in.</p>
</div>
<p>At times, the chefs receive a surplus of specific ingredients, for example a particular vegetable or spice that is having an abundant season. But, they always take their time to review each contribution. When these surges occur, the chefs use their judgment on which ingredients to evaluate first–it is not always the case that the first ingredients received are the first ingredients added to the soup. Chefs might see something particularly enticing–perhaps a rare spice, or a large quantity of something that is needed, and will choose to add this ingredient before other ingredients. The community has learned to anticipate these surges and often come prepared to increase or substitute their offering in the hopes of getting them added to the soup faster.</p>
<div class="btc_translation">
<p>There are limits on the number of blocks and transactions that can be added to the blockchain within a certain period of time. This is by design, and equates to roughly one new block added to the blockchain every 10 minutes.
</p>
<p>When a transaction is broadcast into the bitcoin network, it goes into the <i>memory pool</i>, or <i>mempool</i>. The mempool is an intermediate holding area from which miners can pick and choose which transactions to verify based on the amount of transaction fees sent with the transaction. Miners try to maximize their return on mining by working on transactions with higher transaction fees first. In this way, confirming transactions and adding them to the blockchain becomes an auction during times of high transaction volume.</p>
<p>We measure the total amount of computing power on the bitcoin network in terms of the <i>hashrate</i>, or the number of hashes being calculated per second on the network at any given time. As of August 2020, the hashrate is about 120 ExaHashes per second (120 EH/s). An ExaHash is one quintillion hashes.</p>
</div>
<p>Once a community member's ingredients are added to the soup, they are then provided a receipt confirming their contribution. On these receipts is a detailed list of items contributed, along with the time and the signatures of the chefs that signed off on the contribution. This way, there is never any doubt who has contributed which ingredients to the soup, and if needed, the chefs can vouch for the authenticity of the exchange.</p>
<div class="btc_translation">
<p>When you purchase any amount of bitcoin, you get a secret key which unlocks the specific address, or location, of the transaction on the blockchain. Only you have have this key, and the key is required to prove that you own the bitcoin at the address. In a sense, owning bitcoin is like owning a sales receipt that proves the transaction happened.
</p>
<p>Keys are impossible to guess, and so there is a risk that keys get lost and become unrecoverable. Currently, it is estimated there are 4 million lost bitcoins that may never be recovered.</p>
<p>Bitcoin <i>wallets</i> were created to safely store bitcoin private keys and the addresses of your transactions. Wallets also have addresses which are used to identify the sending and receiving parties in a transaction. There are many commercially available wallet options for consumers, made with hardware or purely software.</p>
</div>
<p>Members' receipts can then be exchanged for a bowl of soup whenever they want. Members show up at the cauldron and hand over their receipts to the chefs. And again, three chefs are required to sign these receipts before the community member is given their soup. By having chefs sign off on the redemption of receipts, the community is able to prevent members from collecting soup multiple times using the same receipt.</p>
<div class="btc_translation">
<p>When bitcoin is transacted, it is sent from one wallet address to another. The origin wallet address, destination wallet address, amount of the transfer, amount of transaction fees, along with other metadata are all included in the transaction payload broadcast into the bitcoin network.
</p>
<p>Once the transaction is broadcast, there is no way to reverse or return the transaction. This limitation, coupled with the consensus needed among miners to verify transaction authenticity, creates a system that prevents any user from double-spending their bitcoins (a critical property of any financial system).</p>
</div>
<p>And so, the soup continues to be made, chefs continue to perfect their craft, and the community continues to enjoy their community-lead food system.</p>
<hr>
<p>What about you? You've just harvested some carrots you've grown at home. Do you choose to join the soup community and bring your carrots to the cauldron? If you do, you may not like how much soup you get in exchange for your carrots. Your carrot exchange rate will be determined in part by how many other community members bring carrots to the cauldron.</p>
<p>Perhaps you get some soup but don't like the taste of it. Bitcoin is impractical to use in many cases we typically use money for, like paying for goods and services, due to the high volatility of its value. So most people are using it simply as a store of value.</p>
<p>Are you prepared to store your carrot receipts in a safe place? If you lose track of your receipts, you won't be able to get the soup you've earned.</p>
<p>Or perhaps you join the soup community and later, in a majority vote, the community decides to change the rules in a way that you don't like. In a consensus-driven, decentralized system, exceptions, exemptions, privelege and favors don't exist. There is no customer service line you can call to ask for your carrots back, or get a copy of your receipt.</p>
<p>On the other hand, maybe you love the soup the chefs make, and you see the community-lead effort as an opportunity to feed more people better food. You recognize the opportunity to get involved and perhaps become a chef yourself. Getting involved early could open up all sorts of doors for you down the road if the experiment is successful and expands to other communities.</p>
<h3>Further Reading</h3>
<ol>
<li>The open-source code for the bitcoin network is available for anyone to read and contribute to <a href="https://github.com/bitcoin/bitcoin">github.com</a></li>
<li>How to create a node on the bitcoin network <a href="https://bitcoin.org/en/full-node#what-is-a-full-node">bitcoin.org</a></li>
<li>SegWit, or Segreggated Witness, is an important upgrade to the bitcoin network implemented in August 2017 in order to improve the efficiency of mining and storing transactions in the blockchain <a href="https://99bitcoins.com/bitcoin/segwit/">99bitcoins.com</a></li>
<li>How bitcoin hashes are calculated <a href="https://coinsutra.com/bitcoin-hash/">coinsutra.com</a></li>
<li>Merkle Trees: hash trees used by blockchains to store and lookup transaction data efficiently <a href="https://en.wikipedia.org/wiki/Merkle_tree">Wikipedia</a></li>
</ol>
]]></content:encoded></item><item><title><![CDATA[Sunsetting Shoppy Bot]]></title><link>https://www.dylanla.com/sunsetting-shoppy-bot/</link><guid isPermaLink="false">https://www.dylanla.com/sunsetting-shoppy-bot/</guid><pubDate>Tue, 23 Jun 2020 22:00:00 GMT</pubDate><content:encoded><![CDATA[<p>Last Friday I made the decision to shut down Shoppy Bot, a software product I had been operating since 2016. It's a decision I'd been contemplating vaguely for over a year, and more seriously within the last couple months. And while it's sad to turn the lights off on a product I've poured so much effort into keeping the lights on, there is a certain peace that comes with accepting that it is time to move on.</p>
<p>Ultimately, I came to understand that I was not going to be able to build Shoppy Bot into what I envisioned for it with the time and resources I have. And I can no longer continue supporting it in it's current, free version.</p>
<p>Here are a few of my favorite memories or highlights from Shoppy Bot:</p>
<ul>
<li>Driving up to Carl's house in Santa Barbara with Matt and Ian in May of 2016 to sign the incorporation paperwork. Talk about a Dream Team.</li>
<li>Launching Shoppy Bot on the Shopify app store and getting featured on their homepage.</li>
<li>Seeing Carl develop his machine learning skillset to create our Natural Language Processing technology.</li>
<li>Meeting many, many amazing business owners, like Ashley running Pour This, Kenny and Nick running The Social Life, and David running Great Lakes. It was truly inspiring to be working with these and other incredible humans all doing really cool things.</li>
<li>Of course, the many interesting technologies we worked on, including chat bots, language processing, reporting and analytics.</li>
</ul>
<p>In many ways, Shoppy Bot is a major reason I am where I am today. It was an incredible period of growth and learning for me. And, from a career standpoint, it helped me leapfrog into job positions and opportunities that I don't think I would have otherwise gotten.</p>
<p>So what's next for me?</p>
<p>I want to get back in touch with my sense of curiousity, and let myself go down some rabbit holes. One skill I'd like to improve is my writing, hence I'm dusting off this website you're reading right now. I also want to spend time thinking about other projects. Some old––things I've wanted to do for a while––and some new. And I'm starting with one very specific question...</p>
<p>What are the most important problems in my field, and why am I not working on them?</p>
<p>This question can be traced back to Bell Labs and a <a href="http://www.cs.virginia.edu/~robins/YouAndYourResearch.html">speech by Turing Award winner Richard Hamming</a> given in 1986. It comes up ever so often in the writing of other inspiring figures, including Paul Graham in his 2005 essay <a href="http://www.paulgraham.com/procrastination.html">&quot;Good and Bad Procrastination&quot;</a>. More recently, Sam Altman of Y Combinator and OpenAI <a href="https://blog.samaltman.com/researchers-and-founders">wrote</a>, &quot;In general, no one reflects on this question enough, but the best people do it the most&quot;.</p>
<p>One thing I've learned about myself is I'm drawn to the &quot;mission&quot;. I want to apply my energy to big hairy problems that have the potential to help hundreds, thousands, perhaps millions of people. There's still so much left to do.</p>
<p>I want to thank all the amazing people that have worked on Shoppy Bot or helped in one way or another over the years. Whether it was a simple conversation or an introduction you made, it means the world to me, thank you! If <a href="https://www.youtube.com/watch?v=rBpaUICxEhk">life is like a dance</a>, you joined my dance, if only momentarily, and gave it a little twist, a zig, a zag, but forever left your mark on an immutable composition.</p>
<p>And so with that, farewell Shoppy Bot, and thanks for the good times.</p>
]]></content:encoded></item><item><title><![CDATA[Developing the Natural Language Understanding Behind Shoppy Bot]]></title><link>https://www.dylanla.com/developing-the-natural-language-understanding-behind-shoppy-bot/</link><guid isPermaLink="false">https://www.dylanla.com/developing-the-natural-language-understanding-behind-shoppy-bot/</guid><pubDate>Thu, 26 Oct 2017 00:00:00 GMT</pubDate><content:encoded><![CDATA[<p><strong>Update July 2023</strong>:
This post by my Shoppy Bot cofounder <a href="https://www.carl-mueller.com">Carl Mueller</a> was originally published on our Shoppy Bot company blog. When closing down a company or project, often a lot of great work gets discarded or simply disappears. Some things are worth keeping around, though, and I think this article is one of those things.</p>
<hr>
<p><strong>Lightning in a Bot's first product, <a href="https://shoppybot.com">Shoppy Bot</a>, is a natural language chatbot that Shopify store owners can use to query their business data.</strong> The natural language interface is a novel approach to reporting and analytics in a backend retail setting, and one we hypothesis can provide faster and more efficient access to important data.</p>
<p>The first version of Shoppy Bot used <a href="https://wit.ai">Wit.ai's</a> natural language API to convert user requests such as &quot;how many customers have we had this week?&quot; into structured data that we could convert into SQL queries and other various functions. Problems with these cloud services became apparent early on, therefore we began to explore what it would take to build our own Natural Language Understanding (NLU) service, one designed specifically for the task at hand.</p>
<p>This post serves as an overview of the theory behind our approach and outlines specific implementation details in developing our own NLU system, now known internally as &quot;Bolt&quot;.</p>
<h2>Theory</h2>
<h3>Semantic Challenges</h3>
<p>Semantics is a field of linguistics which concerns itself with the meaning of language, both written and spoken. Natural Language Understanding is a broad field that attempts to assign semantics to spoken or written language in order to derive understanding. Computer scientists, linguists, and machine learning engineers attempt to use this understanding as actionable information when developing applications. NLU presents unique challenges to engineers due to ambiguousness, variability in style and formation, context, prior knowledge dependency and the disparity between different languages themselves.</p>
<h3>Intent-Slot Paradigm</h3>
<p>One successful method that provides a good framework for generating actionable information from natural language is the <a href="http://www.cs.toronto.edu/~aditya/publications/contextual.pdf">intent-slot paradigm</a>. The intent-slot paradigm is a method of Natural Language Understanding that combines a number of core Natural Language Processing and Information Extraction techniques in order to derive a semantic understanding of written language. In Shoppy Bot’s case, the derivation is a semantic understanding of the user’s question about their business data. There are three major types of information extracted under this NLU model: Intents, Slots, and Entities.</p>
<h4>Intents</h4>
<p>Intents are global properties of a text document (or user query) that map the document to an assigned goal or desire of the user. They can map to very broad concepts such as ‘weather’, ‘banking’, ‘location search’ or to specific concepts such as ‘get product info’, ‘schedule meeting, etc,. These intents are sometimes called user actions and it is the goal of Bolt to categorize queries into a set number of intents. The following query would be categorized to the given intent:</p>
<blockquote>
<p><strong>Query</strong>: What is the shipping information for order #2314?<br>
<strong>Intent</strong>: get-order-shipping-information</p>
</blockquote>
<h4>Slots</h4>
<p>Slots are regions or spans within a text document, sometimes overlapping, that map to a specific type of information. They often constitute a semantically loaded region of the text.  An NLP system must correctly detect the right span/region that contains these semantic slots of information. The following date-time phrase provides an example of a slot:</p>
<blockquote>
<p><strong>Query</strong>: How many returning customers did I have in [the first quarter of 2015]?<br>
<strong>Slot Type</strong>: Date-time<br>
<strong>Extraction Information</strong>: 1/1/2015 - 4/1/2015</p>
</blockquote>
<h4>Entities</h4>
<p>Entities are also regions of text that contain semantic information but often boil down to a single word or compound. They can be thought of as a highly specific slot. Generally, entities encompass names, organizations, locations, and domain specific pieces of information. It is the goal of a named entity recognition system to identify these entities. For example:</p>
<blockquote>
<p><strong>Query</strong>: Get me [Winona Snyder’s] most recent order.<br>
<strong>Entity</strong>: Customer Name = Winona Snyder</p>
</blockquote>
<h2>Implementation</h2>
<h4>Model Generality vs Specificity</h4>
<p>Often a goal of the design of an NLU system, especially one designed for a targeted domain, is to provide as much generality as possible. This often means that the system’s goal centers around supporting as many users and/or as many use cases as possible with a minimal amount of model generation and methods. The reason being is that the implementation of certain NLP features can be reused and shared. Share models are easier to maintain (no management of devoted models). Additionally, new training data generated by user behavior effectively crowd sourced. For example, in Bolt, the mechanism that determines a user’s intent is shared amongst all users. This way, new data (such as new variations of a similar query) can be incorporated into a newly trained model for which all users share the benefit.</p>
<p>However, there are certain times when specificity takes precedence over generality. In our case, each one of our Shoppy Bot users has a store with a wide range of products, each with unique names. When parsing a query for slots and entities, an NLU system has to return information that is specific to that user. Avoiding returning information from one user to another is also a requirement as our customers expect their data and analytics to be protected. Bolt employs a fast dictionary/gazetteer algorithm that utilizes distinct data structures specific to each of our users.</p>
<p>The following outlines three specific implementation details of the Bolt NLU system developed for Shoppy Bot in terms of the intent-slot NLU paradigm.</p>
<h4>Intent Classification</h4>
<p>Intent categorization is achieved most commonly through state-of-the-art text classifiers. Bolt uses a discriminative classifier known as a support vector machine. Briefly, support vector machines (SVMs) are classifiers that construct non-probabilistic models represented in a geometric manner. Data is mapped into a geometric space. The different categories or classes of data are separated by a hyperplane optimized for achieving the largest distance between the closest data points of two different categories. The technical details of support vector machines are beyond the scope of this post, but they are the soup du jour for text classifiers (especially for smaller datasets) and are fairly robust against outlier data.
Bolt uses the fantastic library Scikit-learn and its implementation of an SVM. Specifically we use the class <a href="http://scikit-learn.org/stable/modules/generated/sklearn.svm.LinearSVC.html#sklearn.svm.LinearSVC">LinearSVC</a>. It supports multi-class classification and scales to larger datasets decently by employing <a href="https://www.csie.ntu.edu.tw/~cjlin/liblinear/">liblinear</a> instead of <a href="https://www.csie.ntu.edu.tw/~cjlin/libsvm/">libsvm</a>. One challenge is that many SVM’s underlying implementations, such as libsvm, are quadratic in their algorithmic complexity which can make datasets &gt;10000 samples highly inefficient. LinearSVC performs well as it does not use any kernel function to turn a dataset that is non-linear into a linearly interpretable dataset, thus dramatically enhancing the algorithmic efficiency.</p>
<p>Any machine learning technique is powerless without data. Data must be curated in a way that best represents pertinent information about your problem. Bolt’s intent classification challenge is first and foremost a text classification problem. We take a user’s text query and classify that text into an intent category. Determining what type of data you give your machine learning algorithm is a process called feature generation. One of the most common ways to generate features (data tailored for use in a machine learning algorithm) from text is to employ a simple technique known as the ‘bag-of-words’ technique. The frequency (number of occurrences) of all the words for each text category are used as specific values for data points in the geometric space we generate.</p>
<p>Similar words are used repeatedly for similar user intents. It plays to Bolt’s advantage that queries are often specific to the task at hand, which limits the amount of noise (overlap of categories) and number of outliers (single data points invading deep into the region of a different category). This means that the distinction between one category and another in our geometric space is sharp. I won’t go too deep into how SVM’s work, but I suggest Wikipedia as a good starting point.</p>
<p><img src="/images/posts/developing-the-natural-language-understanding-behind-shoppy-bot/hyperplane.png" alt="Hyperplane separating two categories">
<em>A hyperplane (which is a standard flat plane in three dimensions) separating two categories distinguished by red and blue spheres. <a href="https://i.stack.imgur.com/zeRTm.png">Source</a></em></p>
<h4>Slot Detection</h4>
<p>Slot detection sometimes blurs the line between entity parsing and recognition. It can help to think of named entity recognition (NER), where one parses a product name, city and state etc., as a subset of slot detection. Slots can be a feature of the entire piece of text being analyzed or a localized span of text. One example of a slot that spans the entirety of a user query would be plurality. For example, if the user asks, “Who is my top customer?”, Bolt is able to recognize that the person is asking for only one customer, without needing any explicit number to exist in the query. These results are passed back to Shoppy Bot where a response is sent to the user with the results for one customer.</p>
<p>Bolt actually uses a binary classifier to determine the query’s plurality. We use a similar ‘bag of words’ technique as the intent classifier but also employ a technique that emphasizes particular features. The emphasized features are words associated with plurality. For example, verb conjugation plays an obvious role in identifying whether or not the query is asking for plural results. The verbs ‘is/are’, ‘was/were’ greatly increase the accuracy of the classification model without the need for large amounts of data. It is a case where smart feature engineering helped defeat a lack of data on our end. As the slot detection of plurality is independent of any specific user, it is a generalizable model.</p>
<h4>Named Entity Recognition</h4>
<p>Named entity recognition is the probably the most well-known aspect of information retrieval and slot detection in terms of NLP. Shoppy Bot users each have a large set of product names associated with their Shopify store. These &quot;named entities&quot; must be identified and parsed specific to the user. Bolt employs a set of data structures and a specialized string comparison algorithm to successfully parse product names from a user’s query.</p>
<p>The data structure that Bolt’s gazetteer uses is called a trie. In this scenario, a trie is an ordered tree structure that stores strings compactly, where each node of the tree is an object or structure that stores the current letter, potentially a word, and references or pointers to the next node. The idea is that in traversing a branch of the trie, you slowly build up a word letter by letter. Words that share the same prefix will start along the same branch.</p>
<p><img src="/images/posts/developing-the-natural-language-understanding-behind-shoppy-bot/search_trie.jpg" alt="String search trie">
<em><a href="http://images.slideplayer.com/32/9814580/slides/slide_5.jpg">Source</a></em></p>
<p>This data structure allows one to check if a word is in a dictionary extremely quickly but also allows for additional algorithms to function during the search process. Hash lookups for words are generally the fastest mechanism for dictionary lookups. However, if you want to perform string similarity comparisons while searching for a word in a dictionary at the same time, the search trie is your best bet. This allows for robust dictionary lookup of words pulled from the query to see if they match (or are close to matching) the words stored in the trie. Ultimately this is a very robust way to perform fuzzy dictionary lookups.</p>
<p>The string similarity mechanism Bolt’s gazetteer uses is the <a href="https://people.cs.pitt.edu/~kirk/cs1501/Pruhs/Spring2006/assignments/editdistance/Levenshtein%20Distance.htm">Levenshtein</a> string similarity algorithm. Briefly, it is an algorithm that outputs an integer value called the string distance representing the number of insertions, switches, and deletions it takes to convert one word into another. After removing common words and certain specialty words from the query, the remaining words are grouped in a number of combinations. These combinations of words are each run through the gazetteer’s search algorithm to find matches within a certain Levenshtein string distance. The algorithm traverses down the trie building test words from the letters along the nodes in the path. The algorithm can dynamically append or remove new letters from the current current trie word so that the Levenshtein algorithm only has to readjust for the new letter in its comparison with the test word from the query. Thus we are not constantly performing and reperforming the entire Levenshtein algorithm for every word in the trie.</p>
<p>One additional step Bolt takes to ensure robustness is to add n-grams and skip-grams of the product names into the trie. For example, ‘sally sells sea shells’ as n-grams of length 3 (tri-grams) would be split into ‘sally sells sea’ and ‘sells sea shells’. Skip-grams of length skip distance 1 would result in ‘sally sea shells’ and ‘sally sells shells’. The purpose of these n-grams and skip grams is to account for the different ways a user might express a product name. Perhaps they don’t type every single word if it is a long product name.</p>
<h4>The Big Picture</h4>
<p>Bolt first classifies the user’s query to an intent. Each intent is associated with a set of possible slots/entities that can be parsed for that intent. Those slots/entities are then parsed. In summary, Bolt generally operates with the following procedure:</p>
<ol>
<li>
<p>Classify User Query to Intent:</p>
<blockquote>
<p><strong>Query</strong>: What is the shipping information for order #2314?<br>
<strong>Intent</strong>: get-order-shipping-information<br>
<strong>Associated Slots/Entities</strong>: Order Number</p>
</blockquote>
</li>
<li>
<p>Perform slot/entity detection</p>
<blockquote>
<p><strong>Query</strong>: What is the shipping information for order #2314?<br>
<strong>Entities</strong>: Order Number = #2314</p>
</blockquote>
</li>
<li>
<p>Return information to Shoppy Bot server</p>
</li>
</ol>
<h2>Conclusion</h2>
<p>This post provided a fairly indepth overview of some of the theory and implementation details that go into making the Bolt NLU system function. Natural language understanding is exploding and becoming more advanced day by day. The intent-slot paradigm for NLU is a robust and relatively simplistic approach to NLU that can be achieved fairly easily with some simple and clever algorithms and engineering. With this approach, we're able to provide an NLU system that outperforms other cloud-based solutions on the market, and offer a more sophisticated chatbot experience.</p>
]]></content:encoded></item></channel></rss>